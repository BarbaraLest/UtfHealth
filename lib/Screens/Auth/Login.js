var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=Login;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _reactNativePaper=require("react-native-paper");var _Context=require("./../../Navigation/Context");var _styles=_interopRequireDefault(require("./styles"));var _formik=require("formik");var yup=_interopRequireWildcard(require("yup"));var _fundoR=_interopRequireDefault(require("./../../../assets/imgs/fundoR3.png"));var _jsxFileName="C:\\Users\\barba\\Documents\\TDS 2020.2\\ProjetoFinal\\Projeto\\UtfHealth\\src\\Screens\\Auth\\Login.js";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}function Login(_ref){var _this=this;var navigation=_ref.navigation;var _React$useState=_react.default.useState({secureTextEntry:true,passwordSecureIcon:'eye-off'}),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),data=_React$useState2[0],setData=_React$useState2[1];var updateSecureTextEntry=function updateSecureTextEntry(){setData((0,_extends2.default)({},data,{secureTextEntry:!data.secureTextEntry,passwordSecureIcon:'eye'}));};var _React$useContext=_react.default.useContext(_Context.AuthContext),signIn=_React$useContext.signIn;var loginHandle=function loginHandle(username,password){signIn(username,password);};var reviewSchema=yup.object({username:yup.string().required('Campo obrigatório*').max(255,'Quantidade de caracteres excessiva'),password:yup.string().required('Campo obrigatório*').max(255,'Quantidade de caracteres excessiva')});return _react.default.createElement(_reactNativePaper.Provider,{theme:_styles.default.theme,__self:this,__source:{fileName:_jsxFileName,lineNumber:67,columnNumber:5}},_react.default.createElement(_reactNative.View,{style:_styles.default.background,__self:this,__source:{fileName:_jsxFileName,lineNumber:68,columnNumber:7}},_react.default.createElement(_reactNative.ImageBackground,{source:_fundoR.default,style:{width:'100%',height:'100%',alignItems:'center'},__self:this,__source:{fileName:_jsxFileName,lineNumber:69,columnNumber:9}},_react.default.createElement(_formik.Formik,{initialValues:{username:'',password:''},validationSchema:reviewSchema,onSubmit:function onSubmit(values){setData((0,_extends2.default)({},data,{username:values.username,password:values.password}));},__self:this,__source:{fileName:_jsxFileName,lineNumber:70,columnNumber:11}},function(props){return _react.default.createElement(_reactNative.TouchableWithoutFeedback,{onPress:_reactNative.Keyboard.dismiss,__self:_this,__source:{fileName:_jsxFileName,lineNumber:81,columnNumber:15}},_react.default.createElement(_reactNative.View,{style:_styles.default.componentsViewLogin,__self:_this,__source:{fileName:_jsxFileName,lineNumber:82,columnNumber:17}},_react.default.createElement(_reactNative.View,{style:{flex:1,alignItems:'center'},__self:_this,__source:{fileName:_jsxFileName,lineNumber:83,columnNumber:19}}),_react.default.createElement(_reactNative.View,{style:{flex:1,justifyContent:'flex-start'},__self:_this,__source:{fileName:_jsxFileName,lineNumber:86,columnNumber:19}},_react.default.createElement(_reactNativePaper.TextInput,{underlineColor:"#c85b53",name:"Login",mode:"flat",style:{borderTopLeftRadius:5,borderTopRightRadius:5,borderBottomLeftRadius:5,borderBottomRightRadius:5,backgroundColor:"#ffff"},label:"Login",value:props.values.username,onChangeText:props.handleChange('username'),onBlur:props.handleBlur('username'),left:_react.default.createElement(_reactNativePaper.TextInput.Icon,{name:"account",color:"#c85b53",__self:_this,__source:{fileName:_jsxFileName,lineNumber:104,columnNumber:29}}),keyboardType:"email-address",__self:_this,__source:{fileName:_jsxFileName,lineNumber:87,columnNumber:21}}),_react.default.createElement(_reactNative.Text,{style:_styles.default.textError,__self:_this,__source:{fileName:_jsxFileName,lineNumber:106,columnNumber:21}},props.touched.username&&props.errors.username),_react.default.createElement(_reactNativePaper.TextInput,{underlineColor:"#c85b53",name:"password",mode:"flat",style:{borderTopLeftRadius:5,borderTopRightRadius:5,borderBottomLeftRadius:5,borderBottomRightRadius:5,backgroundColor:"#ffff"},label:"Senha",value:props.values.password,onChangeText:props.handleChange('password'),onBlur:props.handleBlur('password'),secureTextEntry:data.secureTextEntry?true:false,left:_react.default.createElement(_reactNativePaper.TextInput.Icon,{name:"key",color:"#c85b53",__self:_this,__source:{fileName:_jsxFileName,lineNumber:126,columnNumber:29}}),right:_react.default.createElement(_reactNativePaper.TextInput.Icon,{name:data.passwordSecureIcon,color:"#c85b53",onPress:updateSecureTextEntry,__self:_this,__source:{fileName:_jsxFileName,lineNumber:128,columnNumber:25}}),__self:_this,__source:{fileName:_jsxFileName,lineNumber:109,columnNumber:21}}),_react.default.createElement(_reactNative.Text,{style:_styles.default.textError,__self:_this,__source:{fileName:_jsxFileName,lineNumber:134,columnNumber:21}},props.touched.password&&props.errors.password),_react.default.createElement(_reactNativePaper.FAB,{style:_styles.default.buttonLogin,onPress:function onPress(){loginHandle(props.values.username,props.values.password);},label:"Entrar",__self:_this,__source:{fileName:_jsxFileName,lineNumber:137,columnNumber:21}}))));}),_react.default.createElement(_reactNative.View,{style:_styles.default.footerContainer,__self:this,__source:{fileName:_jsxFileName,lineNumber:154,columnNumber:11}},_react.default.createElement(_reactNativePaper.Button,{mode:"text",style:{flex:1},onPress:function onPress(){return navigation.navigate('NewAccount');},__self:this,__source:{fileName:_jsxFileName,lineNumber:155,columnNumber:13}},"N\xE3o possui uma conta? Cadastre-se j\xE1!"),_react.default.createElement(_reactNativePaper.Button,{mode:"text",style:{flex:1,marginBottom:50},onPress:function onPress(){return console.log("nova conta");},__self:this,__source:{fileName:_jsxFileName,lineNumber:156,columnNumber:13}},"Esqueci minha senha")))));}