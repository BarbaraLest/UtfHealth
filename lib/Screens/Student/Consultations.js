var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=Consultations;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _reactNativePaper=require("react-native-paper");var _styles=_interopRequireDefault(require("./components/styles"));var _asyncStorage=_interopRequireDefault(require("@react-native-async-storage/async-storage"));var _axios=_interopRequireDefault(require("axios"));var _jsxFileName="C:\\Users\\barba\\Documents\\TDS 2020.2\\ProjetoFinal\\Projeto\\UtfHealth\\src\\Screens\\Student\\Consultations.js";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}function Consultations(_ref){var _this=this;var navigation=_ref.navigation;(0,_react.useEffect)(function(){getList();},[]);var _useState=(0,_react.useState)([{"name":"Paulo","specialty":"MÃ©dico","date":"2021-05-05","time":"00:00:00","place":"nuape","observations":"testes"}]),_useState2=(0,_slicedToArray2.default)(_useState,2),list=_useState2[0],setList=_useState2[1];var listCallback=(0,_react.useCallback)(function(data){setList(data);},[list]);function getList(){var id;return _regenerator.default.async(function getList$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regenerator.default.awrap(_asyncStorage.default.getItem('@UtfApi:idStudent'));case 2:id=_context.sent;_axios.default.get("http://10.0.2.2:3000/appointment/"+id).then(function(response){console.log(response.data);listCallback(response.data);}).catch(function(error){console.log(error);});case 4:case"end":return _context.stop();}}},null,null,null,Promise);}function Consultation(_ref2){var name=_ref2.name,specialty=_ref2.specialty,date=_ref2.date,time=_ref2.time,place=_ref2.place;return _react.default.createElement(_reactNative.TouchableOpacity,{__self:this,__source:{fileName:_jsxFileName,lineNumber:50,columnNumber:13}},_react.default.createElement(_reactNative.View,{style:{flexDirection:'column'},__self:this,__source:{fileName:_jsxFileName,lineNumber:51,columnNumber:17}},_react.default.createElement(_reactNative.Text,{style:_styles.default.textFlatlistRow,__self:this,__source:{fileName:_jsxFileName,lineNumber:52,columnNumber:21}},"Especialidade: ",specialty),_react.default.createElement(_reactNative.Text,{style:_styles.default.subTextFlatlistRowBlack,__self:this,__source:{fileName:_jsxFileName,lineNumber:53,columnNumber:21}},"Doutor (a): ",name),_react.default.createElement(_reactNative.Text,{style:_styles.default.subTextFlatlistRowBlack,__self:this,__source:{fileName:_jsxFileName,lineNumber:54,columnNumber:21}},"Data: ",date),_react.default.createElement(_reactNative.Text,{style:_styles.default.subTextFlatlistRowBlack,__self:this,__source:{fileName:_jsxFileName,lineNumber:55,columnNumber:21}},"Hor\xE1rio: ",time),_react.default.createElement(_reactNative.Text,{style:_styles.default.subTextFlatlistRowBlack,__self:this,__source:{fileName:_jsxFileName,lineNumber:56,columnNumber:21}},"Local: ",place)),_react.default.createElement(_reactNativePaper.Divider,{style:{backgroundColor:'#c2c6ca',marginTop:20},__self:this,__source:{fileName:_jsxFileName,lineNumber:58,columnNumber:17}}));}return _react.default.createElement(_reactNativePaper.Provider,{theme:_styles.default.theme,__self:this,__source:{fileName:_jsxFileName,lineNumber:65,columnNumber:9}},_react.default.createElement(_reactNative.View,{style:_styles.default.background,__self:this,__source:{fileName:_jsxFileName,lineNumber:66,columnNumber:13}},_react.default.createElement(_reactNativePaper.Appbar.Header,{style:{backgroundColor:"#FF8A80"},__self:this,__source:{fileName:_jsxFileName,lineNumber:67,columnNumber:17}},_react.default.createElement(_reactNativePaper.Appbar.BackAction,{onPress:function onPress(){return navigation.navigate('Home');},color:'#404040',__self:this,__source:{fileName:_jsxFileName,lineNumber:68,columnNumber:21}}),_react.default.createElement(_reactNativePaper.Appbar.Content,{title:"Minhas consultas",color:'#404040',__self:this,__source:{fileName:_jsxFileName,lineNumber:69,columnNumber:21}})),_react.default.createElement(_reactNative.View,{style:_styles.default.componentsHMView,__self:this,__source:{fileName:_jsxFileName,lineNumber:71,columnNumber:17}},_react.default.createElement(_reactNative.Text,{style:_styles.default.textTitle,__self:this,__source:{fileName:_jsxFileName,lineNumber:72,columnNumber:21}},"Hist\xF3rico de consultas"),_react.default.createElement(_reactNativePaper.Divider,{__self:this,__source:{fileName:_jsxFileName,lineNumber:73,columnNumber:21}}),_react.default.createElement(_reactNative.FlatList,{style:{marginTop:40},data:list.data,keyExtractor:function keyExtractor(item){return item.id;},renderItem:function renderItem(_ref3){var item=_ref3.item;return _react.default.createElement(Consultation,{name:item.name,specialty:item.specialty,date:item.date,time:item.time,place:item.place,__self:_this,__source:{fileName:_jsxFileName,lineNumber:79,columnNumber:33}});},__self:this,__source:{fileName:_jsxFileName,lineNumber:74,columnNumber:21}}))));}