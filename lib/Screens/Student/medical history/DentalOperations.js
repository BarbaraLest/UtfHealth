var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=DentalOperations;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _reactNativePaper=require("react-native-paper");var _styles=_interopRequireDefault(require("./../components/styles"));var _axios=_interopRequireDefault(require("axios"));var _asyncStorage=_interopRequireDefault(require("@react-native-async-storage/async-storage"));var _jsxFileName="C:\\Users\\barba\\Documents\\TDS 2020.2\\ProjetoFinal\\Projeto\\UtfHealth\\src\\Screens\\Student\\medical history\\DentalOperations.js";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}function DentalOperations(_ref){var navigation=_ref.navigation,previus=_ref.previus;var _useState=(0,_react.useState)({caries:"Nunca tive",dentalAppliance:"Nunca usei",canal:"Nunca fiz",wisdomExtraction:"Não"}),_useState2=(0,_slicedToArray2.default)(_useState,2),dental=_useState2[0],setDental=_useState2[1];var _useState3=(0,_react.useState)(" "),_useState4=(0,_slicedToArray2.default)(_useState3,2),observations=_useState4[0],setObservations=_useState4[1];function createDentalHistory(){var id;return _regenerator.default.async(function createDentalHistory$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regenerator.default.awrap(_asyncStorage.default.getItem('@UtfApi:idStudent'));case 2:id=_context.sent;_axios.default.post("http://10.0.2.2:3000/dentalHistory",{"idStudent":id,"caries":dental.caries,"dentalAppliance":dental.dentalAppliance,"canal":dental.canal,"wisdomExtraction":dental.wisdomExtraction,"observation":observations}).then(function(response){console.log(response.data);createSuccessAlert();}).catch(function(error){console.log(error);createUnsuccessAlert();});case 4:case"end":return _context.stop();}}},null,null,null,Promise);}var createSuccessAlert=function createSuccessAlert(){return _reactNative.Alert.alert("Parabéns!","Seu histórico odontológico foi criado com sucesso.",[{text:"Ok",onPress:function onPress(){return navigation.navigate('Home');}}]);};var createUnsuccessAlert=function createUnsuccessAlert(){return _reactNative.Alert.alert("Ops!","Não criar seu histórico. Verifique suas informações e tente novamente.",[{text:"Ok",onPress:function onPress(){return navigation.navigate('Home');}}]);};var _React$useState=_react.default.useState(false),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),checkedDental1=_React$useState2[0],setCheckedDental1=_React$useState2[1];var dental1Callback=(0,_react.useCallback)(function(){setCheckedDental1(!checkedDental1);},[checkedDental1]);var _React$useState3=_react.default.useState(false),_React$useState4=(0,_slicedToArray2.default)(_React$useState3,2),checkedDental2=_React$useState4[0],setCheckedDental2=_React$useState4[1];var dental2Callback=(0,_react.useCallback)(function(){setCheckedDental2(!checkedDental2);},[checkedDental2]);var _React$useState5=_react.default.useState(false),_React$useState6=(0,_slicedToArray2.default)(_React$useState5,2),checkedDental3=_React$useState6[0],setCheckedDental3=_React$useState6[1];var dental3Callback=(0,_react.useCallback)(function(){setCheckedDental3(!checkedDental3);},[checkedDental3]);var _React$useState7=_react.default.useState(false),_React$useState8=(0,_slicedToArray2.default)(_React$useState7,2),checkedDental4=_React$useState8[0],setCheckedDental4=_React$useState8[1];var dental4Callback=(0,_react.useCallback)(function(){setCheckedDental4(!checkedDental4);},[checkedDental4]);var dentalIdCallback=(0,_react.useCallback)(function(dentalType,id){if(id==1){setDental((0,_extends2.default)({},dental,{caries:dentalType}));}if(id==2){setDental((0,_extends2.default)({},dental,{dentalAppliance:dentalType}));}if(id==3){setDental((0,_extends2.default)({},dental,{canal:dentalType}));}if(id==4){setDental((0,_extends2.default)({},dental,{wisdomExtraction:dentalType}));}},[dental]);return _react.default.createElement(_reactNativePaper.Provider,{theme:_styles.default.theme,__self:this,__source:{fileName:_jsxFileName,lineNumber:127,columnNumber:9}},_react.default.createElement(_reactNative.TouchableWithoutFeedback,{onPress:_reactNative.Keyboard.dismiss,__self:this,__source:{fileName:_jsxFileName,lineNumber:128,columnNumber:13}},_react.default.createElement(_reactNative.View,{style:_styles.default.background,__self:this,__source:{fileName:_jsxFileName,lineNumber:129,columnNumber:17}},_react.default.createElement(_reactNativePaper.Appbar.Header,{style:{backgroundColor:"#FF8A80"},__self:this,__source:{fileName:_jsxFileName,lineNumber:130,columnNumber:21}},_react.default.createElement(_reactNativePaper.Appbar.BackAction,{onPress:navigation.goBack,color:'#404040',__self:this,__source:{fileName:_jsxFileName,lineNumber:131,columnNumber:25}}),_react.default.createElement(_reactNativePaper.Appbar.Content,{title:"Hist\xF3rico dental",color:'#404040',__self:this,__source:{fileName:_jsxFileName,lineNumber:132,columnNumber:25}})),_react.default.createElement(_reactNative.View,{style:_styles.default.componentsView,__self:this,__source:{fileName:_jsxFileName,lineNumber:135,columnNumber:21}},_react.default.createElement(_reactNative.View,{style:{flex:3,justifyContent:'space-evenly'},__self:this,__source:{fileName:_jsxFileName,lineNumber:136,columnNumber:25}},_react.default.createElement(_reactNative.View,{style:{flexDirection:'row',alignItems:'center',justifyContent:'space-between'},__self:this,__source:{fileName:_jsxFileName,lineNumber:137,columnNumber:29}},_react.default.createElement(_reactNative.Text,{style:_styles.default.textDentalOperations,__self:this,__source:{fileName:_jsxFileName,lineNumber:138,columnNumber:33}}," Voc\xEA j\xE1 teve caries? "),_react.default.createElement(_reactNativePaper.RadioButton,{value:"first",status:checkedDental1?'checked':'unchecked',onPress:function onPress(){dental1Callback(),dentalIdCallback('Já teve carie',1);},__self:this,__source:{fileName:_jsxFileName,lineNumber:139,columnNumber:33}})),_react.default.createElement(_reactNative.View,{style:{flexDirection:'row',alignItems:'center',justifyContent:'space-between'},__self:this,__source:{fileName:_jsxFileName,lineNumber:145,columnNumber:29}},_react.default.createElement(_reactNative.Text,{style:_styles.default.textDentalOperations,__self:this,__source:{fileName:_jsxFileName,lineNumber:146,columnNumber:33}},"Voc\xEA j\xE1 usou aparelho odontol\xF3gico? "),_react.default.createElement(_reactNativePaper.RadioButton,{value:"first",status:checkedDental2?'checked':'unchecked',onPress:function onPress(){dental2Callback(),dentalIdCallback('Uso de aparelho odontológico',2);},__self:this,__source:{fileName:_jsxFileName,lineNumber:147,columnNumber:33}})),_react.default.createElement(_reactNative.View,{style:{flexDirection:'row',alignItems:'center',justifyContent:'space-between'},__self:this,__source:{fileName:_jsxFileName,lineNumber:153,columnNumber:29}},_react.default.createElement(_reactNative.Text,{style:_styles.default.textDentalOperations,__self:this,__source:{fileName:_jsxFileName,lineNumber:154,columnNumber:33}}," Voc\xEA j\xE1 fez canal? "),_react.default.createElement(_reactNativePaper.RadioButton,{value:"first",status:checkedDental3?'checked':'unchecked',onPress:function onPress(){dental3Callback(),dentalIdCallback('Já realizou canal',3);},__self:this,__source:{fileName:_jsxFileName,lineNumber:155,columnNumber:33}})),_react.default.createElement(_reactNative.View,{style:{flexDirection:'row',alignItems:'center',justifyContent:'space-between'},__self:this,__source:{fileName:_jsxFileName,lineNumber:161,columnNumber:29}},_react.default.createElement(_reactNative.Text,{style:_styles.default.textDentalOperations,__self:this,__source:{fileName:_jsxFileName,lineNumber:162,columnNumber:33}}," Voc\xEA extraiu os siso? "),_react.default.createElement(_reactNativePaper.RadioButton,{value:"first",status:checkedDental4?'checked':'unchecked',onPress:function onPress(){dental4Callback(),dentalIdCallback('Já extraiu algum ciso',4);},__self:this,__source:{fileName:_jsxFileName,lineNumber:163,columnNumber:33}})),_react.default.createElement(_reactNativePaper.TextInput,{label:"Observa\xE7\xF5es",mode:"flat",placeholderTextColor:"#c85b53",style:_styles.default.textInput,underlineColor:"#c85b53",value:observations,onChangeText:function onChangeText(observations){return setObservations(observations);},multiline:true,numberOfLines:4,dense:true,left:_react.default.createElement(_reactNativePaper.TextInput.Icon,{name:"rename-box",color:"#ffbdaf",__self:this,__source:{fileName:_jsxFileName,lineNumber:180,columnNumber:39}}),__self:this,__source:{fileName:_jsxFileName,lineNumber:169,columnNumber:29}})),_react.default.createElement(_reactNative.View,{style:_styles.default.buttonsView,__self:this,__source:{fileName:_jsxFileName,lineNumber:183,columnNumber:25}},_react.default.createElement(_reactNativePaper.FAB,{style:_styles.default.buttonNewAcc,label:"Cancelar",onPress:navigation.goBack,__self:this,__source:{fileName:_jsxFileName,lineNumber:184,columnNumber:29}}),_react.default.createElement(_reactNativePaper.FAB,{style:_styles.default.buttonNewAcc,label:"Salvar",onPress:function onPress(){return createDentalHistory();},__self:this,__source:{fileName:_jsxFileName,lineNumber:189,columnNumber:29}}))))));}