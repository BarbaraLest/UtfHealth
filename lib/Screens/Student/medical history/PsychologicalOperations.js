var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=PsychologicalOperations;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _reactNativePaper=require("react-native-paper");var _styles=_interopRequireDefault(require("./../components/styles"));var _axios=_interopRequireDefault(require("axios"));var _asyncStorage=_interopRequireDefault(require("@react-native-async-storage/async-storage"));var _jsxFileName="C:\\Users\\barba\\Documents\\TDS 2020.2\\ProjetoFinal\\Projeto\\UtfHealth\\src\\Screens\\Student\\medical history\\PsychologicalOperations.js";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}function PsychologicalOperations(_ref){var navigation=_ref.navigation,previus=_ref.previus;var _useState=(0,_react.useState)({psycho1:"Não",psycho2:"Não",psycho3:"Não",psycho4:"Não"}),_useState2=(0,_slicedToArray2.default)(_useState,2),psycho=_useState2[0],setPsycho=_useState2[1];var _useState3=(0,_react.useState)(" "),_useState4=(0,_slicedToArray2.default)(_useState3,2),observations=_useState4[0],setObservations=_useState4[1];function createPsychoHistory(){var id;return _regenerator.default.async(function createPsychoHistory$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regenerator.default.awrap(_asyncStorage.default.getItem('@UtfApi:idStudent'));case 2:id=_context.sent;_axios.default.post("http://10.0.2.2:3000/psychologicalHistory",{"idStudent":id,"psychologicalSupport":psycho.psycho1,"tdah":psycho.psycho2,"anxiety":psycho.psycho3,"antidepressant":psycho.psycho4,"observation":observations}).then(function(response){console.log(response.data);createSuccessAlert();}).catch(function(error){console.log(error);createUnsuccessAlert();});case 4:case"end":return _context.stop();}}},null,null,null,Promise);}var createSuccessAlert=function createSuccessAlert(){return _reactNative.Alert.alert("Parabéns!","Seu histórico psicológico foi criado com sucesso.",[{text:"Ok",onPress:function onPress(){return navigation.navigate('Home');}}]);};var createUnsuccessAlert=function createUnsuccessAlert(){return _reactNative.Alert.alert("Ops!","Não criar seu histórico. Verifique suas informações e tente novamente.",[{text:"Ok",onPress:function onPress(){return navigation.navigate('Home');}}]);};var _React$useState=_react.default.useState(false),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),checkedPsycho1=_React$useState2[0],setCheckedPsycho1=_React$useState2[1];var psycho1Callback=(0,_react.useCallback)(function(){setCheckedPsycho1(!checkedPsycho1);},[checkedPsycho1]);var _React$useState3=_react.default.useState(false),_React$useState4=(0,_slicedToArray2.default)(_React$useState3,2),checkedPsycho2=_React$useState4[0],setCheckedPsycho2=_React$useState4[1];var psycho2Callback=(0,_react.useCallback)(function(){setCheckedPsycho2(!checkedPsycho2);},[checkedPsycho2]);var _React$useState5=_react.default.useState(false),_React$useState6=(0,_slicedToArray2.default)(_React$useState5,2),checkedPsycho3=_React$useState6[0],setCheckedPsycho3=_React$useState6[1];var psycho3Callback=(0,_react.useCallback)(function(){setCheckedPsycho3(!checkedPsycho3);},[checkedPsycho3]);var _React$useState7=_react.default.useState(false),_React$useState8=(0,_slicedToArray2.default)(_React$useState7,2),checkedPsycho4=_React$useState8[0],setCheckedPsycho4=_React$useState8[1];var psycho4Callback=(0,_react.useCallback)(function(){setCheckedPsycho4(!checkedPsycho4);},[checkedPsycho4]);var psychoIdCallback=(0,_react.useCallback)(function(psycholType,id){if(id==1){setPsycho((0,_extends2.default)({},psycho,{psycho1:psycholType}));}if(id==2){setPsycho((0,_extends2.default)({},psycho,{psycho2:psycholType}));}if(id==3){setPsycho((0,_extends2.default)({},psycho,{psycho3:psycholType}));}if(id==4){setPsycho((0,_extends2.default)({},psycho,{psycho4:psycholType}));}},[psycho]);return _react.default.createElement(_reactNativePaper.Provider,{theme:_styles.default.theme,__self:this,__source:{fileName:_jsxFileName,lineNumber:123,columnNumber:9}},_react.default.createElement(_reactNative.TouchableWithoutFeedback,{onPress:_reactNative.Keyboard.dismiss,__self:this,__source:{fileName:_jsxFileName,lineNumber:124,columnNumber:13}},_react.default.createElement(_reactNative.View,{style:_styles.default.background,__self:this,__source:{fileName:_jsxFileName,lineNumber:125,columnNumber:17}},_react.default.createElement(_reactNativePaper.Appbar.Header,{style:{backgroundColor:"#FF8A80"},__self:this,__source:{fileName:_jsxFileName,lineNumber:126,columnNumber:21}},_react.default.createElement(_reactNativePaper.Appbar.BackAction,{onPress:navigation.goBack,color:'#404040',__self:this,__source:{fileName:_jsxFileName,lineNumber:127,columnNumber:25}}),_react.default.createElement(_reactNativePaper.Appbar.Content,{title:"Hist\xF3rico psicol\xF3gico",color:'#404040',__self:this,__source:{fileName:_jsxFileName,lineNumber:128,columnNumber:25}})),_react.default.createElement(_reactNative.View,{style:_styles.default.componentsView,__self:this,__source:{fileName:_jsxFileName,lineNumber:131,columnNumber:21}},_react.default.createElement(_reactNative.View,{style:{flex:3,justifyContent:'space-evenly'},__self:this,__source:{fileName:_jsxFileName,lineNumber:132,columnNumber:25}},_react.default.createElement(_reactNative.View,{style:{flexDirection:'row',alignItems:'center',justifyContent:'space-between'},__self:this,__source:{fileName:_jsxFileName,lineNumber:133,columnNumber:29}},_react.default.createElement(_reactNative.Text,{style:_styles.default.textDentalOperations,__self:this,__source:{fileName:_jsxFileName,lineNumber:134,columnNumber:33}},"Voc\xEA fez acompanhamento psicol\xF3gico? "),_react.default.createElement(_reactNativePaper.RadioButton,{value:"first",status:checkedPsycho1?'checked':'unchecked',onPress:function onPress(){psycho1Callback(),psychoIdCallback('Já fez acompanhamento psicológico',1);},__self:this,__source:{fileName:_jsxFileName,lineNumber:135,columnNumber:33}})),_react.default.createElement(_reactNative.View,{style:{flexDirection:'row',alignItems:'center',justifyContent:'space-between'},__self:this,__source:{fileName:_jsxFileName,lineNumber:141,columnNumber:29}},_react.default.createElement(_reactNative.Text,{style:_styles.default.textDentalOperations,__self:this,__source:{fileName:_jsxFileName,lineNumber:142,columnNumber:33}},"Voc\xEA j\xE1 foi diagnosticado com TDAH? "),_react.default.createElement(_reactNativePaper.RadioButton,{value:"first",status:checkedPsycho2?'checked':'unchecked',onPress:function onPress(){psycho2Callback(),psychoIdCallback('Já foi diagnosticado com TDAH',2);},__self:this,__source:{fileName:_jsxFileName,lineNumber:143,columnNumber:33}})),_react.default.createElement(_reactNative.View,{style:{flexDirection:'row',alignItems:'center',justifyContent:'space-between'},__self:this,__source:{fileName:_jsxFileName,lineNumber:149,columnNumber:29}},_react.default.createElement(_reactNative.Text,{style:_styles.default.textDentalOperations,__self:this,__source:{fileName:_jsxFileName,lineNumber:150,columnNumber:33}},"Voc\xEA j\xE1 foi diagnosticado com ansiedade? "),_react.default.createElement(_reactNativePaper.RadioButton,{value:"first",status:checkedPsycho3?'checked':'unchecked',onPress:function onPress(){psycho3Callback(),psychoIdCallback('Já fOi diagnosticado com ansiedade',3);},__self:this,__source:{fileName:_jsxFileName,lineNumber:151,columnNumber:33}})),_react.default.createElement(_reactNative.View,{style:{flexDirection:'row',alignItems:'center',justifyContent:'space-between'},__self:this,__source:{fileName:_jsxFileName,lineNumber:157,columnNumber:29}},_react.default.createElement(_reactNative.Text,{style:_styles.default.textDentalOperations,__self:this,__source:{fileName:_jsxFileName,lineNumber:158,columnNumber:33}},"Voc\xEA j\xE1 tomou rem\xE9dios antidepressivos? "),_react.default.createElement(_reactNativePaper.RadioButton,{value:"first",status:checkedPsycho4?'checked':'unchecked',onPress:function onPress(){psycho4Callback(),psychoIdCallback('Já tomou remédios antidepressivos',4);},__self:this,__source:{fileName:_jsxFileName,lineNumber:159,columnNumber:33}})),_react.default.createElement(_reactNativePaper.TextInput,{label:"Observa\xE7\xF5es",mode:"flat",placeholderTextColor:"#c85b53",style:_styles.default.textInput,value:observations,onChangeText:function onChangeText(observations){return setObservations(observations);},underlineColor:"#c85b53",multiline:true,numberOfLines:4,dense:true,left:_react.default.createElement(_reactNativePaper.TextInput.Icon,{name:"rename-box",color:"#ffbdaf",__self:this,__source:{fileName:_jsxFileName,lineNumber:176,columnNumber:39}}),__self:this,__source:{fileName:_jsxFileName,lineNumber:165,columnNumber:29}})),_react.default.createElement(_reactNative.View,{style:_styles.default.buttonsView,__self:this,__source:{fileName:_jsxFileName,lineNumber:179,columnNumber:25}},_react.default.createElement(_reactNativePaper.FAB,{style:_styles.default.buttonNewAcc,label:"Cancelar",onPress:navigation.goBack,__self:this,__source:{fileName:_jsxFileName,lineNumber:180,columnNumber:29}}),_react.default.createElement(_reactNativePaper.FAB,{style:_styles.default.buttonNewAcc,label:"Salvar",onPress:function onPress(){return createPsychoHistory();},__self:this,__source:{fileName:_jsxFileName,lineNumber:185,columnNumber:29}}))))));}